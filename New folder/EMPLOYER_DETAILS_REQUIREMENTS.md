# Admin Backend Requirements Summary
## Employer & Employee Details Specification

## Overview
This document outlines the complete field specifications for **Employer**, **Employee (Worker)**, **Job Posting**, **Payment Details**, and **Withdrawal/Cash In/Out Details** that need to be captured and managed in the admin panel. The document is divided into five main sections:
1. **Employer Details** - Fields required when employer logs in and posts jobs
2. **Employee/Worker Details** - Fields visible to admin when viewing/editing worker profiles
3. **Job Posting Details** - Fields required when creating, viewing, and editing job postings
4. **Payment Details** - Payment records and tracking for employees who completed job shifts
5. **Withdrawal/Cash In/Out Details** - Transaction records for employee withdrawals, payments, bonuses, and penalties

**Frontend Context:**
- User-facing mobile app is built with **Flutter**
- All data structures should be optimized for Flutter consumption
- Admin panel should support full CRUD operations (Create, Read, Update, Delete) for all entities

---

# PART 1: EMPLOYER DETAILS

---

## Field Specifications

### 1. Employer ID
- **Input Method**: Statement (Display only)
- **Format**: Prefilled
- **Required**: Prefilled (Not Editable)
- **Remarks**: Auto-generated by the system
- **Implementation**: System-generated unique identifier, read-only field

### 2. Company Logo
- **Input Method**: Upload
- **Format**: Image file
- **Required**: Optional
- **Remarks**: Standard image upload functionality
- **Implementation**: File upload component supporting common image formats (JPG, PNG, SVG, etc.)

### 3. Company Legal Name
- **Input Method**: Textbox
- **Format**: Text
- **Required**: Optional
- **Remarks**: Legal registered name of the company
- **Implementation**: Standard text input field

### 4. HQ Address
- **Input Method**: Textbox
- **Format**: Text
- **Required**: Optional
- **Remarks**: Headquarters address of the company
- **Implementation**: Text input field, can be multi-line for full address

### 5. Main Contact Person Name
- **Input Method**: Textbox
- **Format**: Text
- **Required**: Optional
- **Remarks**: Allow multiple contact persons
- **Implementation**: Text input with support for multiple entries (array/list)

### 6. Job Position
- **Input Method**: Textbox
- **Format**: Text
- **Required**: Optional
- **Remarks**: Position title of the main contact person
- **Implementation**: Standard text input field

### 7. Main Contact Number
- **Input Method**: Textbox
- **Format**: Number
- **Required**: Optional
- **Remarks**: Primary contact phone number
- **Implementation**: Number input field with phone number validation

### 8. Email Address
- **Input Method**: Textbox
- **Format**: Email
- **Required**: Optional
- **Remarks**: Primary email address for communication
- **Implementation**: Email input field with email format validation

### 9. Office Number
- **Input Method**: Textbox
- **Format**: Number
- **Required**: Optional
- **Remarks**: Office/landline phone number
- **Implementation**: Number input field

### 10. Account Manager
- **Input Method**: Statement (Display only)
- **Format**: Prefilled (Masked)
- **Required**: Prefilled
- **Remarks**: Assigned by Admin (not editable by employer)
- **Implementation**: Display-only field showing masked account manager information, managed by admin

### 11. ACRA Bizfile Cert
- **Input Method**: Upload
- **Format**: File upload
- **Required**: Optional
- **Remarks**: ACRA business file certificate document
- **Implementation**: File upload component supporting document formats

### 12. Industry
- **Input Method**: Dropdown
- **Format**: Selection from predefined options
- **Options**: 
  - F&B (Food & Beverage)
  - Hotel
  - Retail
  - Logistics
  - Others
- **Required**: Optional
- **Remarks**: Industry classification
- **Implementation**: Dropdown/select component with the specified options

### 13. Service Agreement
- **Input Method**: Dropdown
- **Format**: Selection from predefined options
- **Options**:
  - In Discussion
  - Completed
  - Expired
- **Required**: Optional
- **Remarks**: Current status of service agreement
- **Implementation**: Dropdown/select component with the specified status options

### 14. Service Contract
- **Input Method**: Upload
- **Format**: PDF only
- **Required**: Optional
- **Remarks**: Must accept PDF format only
- **Implementation**: File upload component with PDF file type restriction and validation

### 15. Contract Expiry Date
- **Input Method**: Textbox
- **Format**: Date format (YYYY-MM-DD)
- **Required**: Optional
- **Remarks**: Expiration date of the service contract
- **Implementation**: Date picker component with YYYY-MM-DD format validation

### 16. Outlet Address
- **Input Method**: Textbox
- **Format**: Text
- **Required**: Optional
- **Remarks**: Multiple outlet support; each outlet can have different manager contact details
- **Implementation**: Text input field with support for multiple outlets (array/list structure), where each outlet entry can include its own manager contact details

---

## Employer Implementation Notes

### Key Features to Implement:
1. **Multi-Entry Support**: 
   - Main Contact Person Name (multiple contacts)
   - Outlet Address (multiple outlets with individual manager details)

2. **File Upload Restrictions**:
   - Service Contract: PDF format only
   - Company Logo: Image formats
   - ACRA Bizfile Cert: Document formats

3. **Read-Only Fields**:
   - Employer ID (system-generated)
   - Account Manager (admin-assigned, masked display)

4. **Validation Requirements**:
   - Email format validation for Email Address
   - Date format validation (YYYY-MM-DD) for Contract Expiry Date
   - Number format validation for phone numbers
   - File type validation for uploads (especially PDF for Service Contract)

5. **Data Structure Considerations**:
   - Outlet Address should support nested structure for manager contact details per outlet
   - Main Contact Person Name should support array/list structure

---

# PART 2: EMPLOYEE/WORKER DETAILS

## Overview
Admin will be able to see all employees added with their details. These details come from the worker mobile app where users complete their profile information before applying for their first job. The admin panel allows admins to view and edit worker information if required.

**Important Context:**
- All new users will be diverted to complete the required info when they click to confirm applying for any jobs
- Some fields are pre-filled from the user sign-up process
- Some fields are conditionally visible based on user registration selections (e.g., Singaporean/PR, LTVP, Student Pass)

---

## Field Specifications

### 1. Full Name (As per NRIC)
- **Input Method**: Textbox
- **Format**: Pre-filled Info
- **Required**: Pre-filled (Not required to input by user)
- **Remarks**: 
  - Information acquired during user sign-up process
  - Must be displayed in worker profile information in their mobile app
- **Implementation**: Display field (read-only or editable by admin only)

### 2. Mobile Number
- **Input Method**: Textbox
- **Format**: Pre-filled Info
- **Required**: Pre-filled (Not required to input by user)
- **Remarks**: 
  - Information acquired during user sign-up process
  - Must be displayed in worker profile information in their mobile app
- **Implementation**: Display field (read-only or editable by admin only)

### 3. Email Address
- **Input Method**: Textbox
- **Format**: Email format
- **Required**: Required
- **Remarks**: 
  - This field is visible for users who did not input "Email Address" during account registration
  - Hide this field if user has inserted this info during account registration
- **Implementation**: Conditional visibility based on registration data; email format validation

### 4. NRIC or FIN No
- **Input Method**: Textbox
- **Format**: Text
- **Required**: Required
- **Remarks**: 
  - This field is masked if user selected "Student Pass (Foreigner)" during account registration
- **Implementation**: Text input with conditional masking logic

### 5. Date of Birth
- **Input Method**: Textbox
- **Format**: DD/MM/YYYY
- **Required**: Required
- **Remarks**: Date of birth in Singapore date format
- **Implementation**: Date picker with DD/MM/YYYY format validation

### 6. Gender
- **Input Method**: Radio Button
- **Format**: Selection from options
- **Options**: 
  - Male
  - Female
- **Required**: Required
- **Remarks**: Gender selection
- **Implementation**: Radio button group with the two options

### 7. Postal Code
- **Input Method**: Textbox
- **Format**: 6 digit number format only
- **Required**: Required
- **Remarks**: 
  - 6 Digit Singapore Postal Code
  - Auto prefilled the street address after postal code being input
- **Implementation**: 
  - Number input with 6-digit validation
  - Integration with postal code API to auto-fill street address

### 8. Profile Picture
- **Input Method**: Upload
- **Format**: Image file
- **Required**: Required
- **Remarks**: Live Selfie
- **Implementation**: Image upload component, preferably with camera access for live selfie capture

### 9. NRIC Image (Front & Back)
- **Input Method**: Upload
- **Format**: Image file (Front and Back)
- **Required**: Required
- **Remarks**: 
  - This field is hidden if user did not select "Singaporean/PR" during account registration
- **Implementation**: 
  - Dual image upload (front and back)
  - Conditional visibility based on registration type

### 10. PLOC Image
- **Input Method**: Upload
- **Format**: Image file
- **Required**: Required
- **Remarks**: 
  - This field is hidden if user did not select "LTVP" during account registration
- **Implementation**: 
  - Image upload component
  - Conditional visibility based on registration type (LTVP)

### 11. Food Hygiene Cert
- **Input Method**: Upload
- **Format**: File upload
- **Required**: Conditionally Required
- **Remarks**: 
  - Displayed in their profile as an optional field
  - Required if during job listing the box selection is indicated "Mandatory" when creating job listing
  - Prompt this option for worker to upload their food hygiene cert when they click to apply any job listing if any job listing selection is mandatory
- **Implementation**: 
  - File upload component
  - Conditional requirement based on job listing requirements
  - Integration with job application flow

### 12. PLOC Expiry Date
- **Input Method**: Textbox
- **Format**: Date format
- **Required**: Required
- **Remarks**: 
  - This field is hidden if user did not select "LTVP" during account registration
- **Implementation**: 
  - Date picker component
  - Conditional visibility based on registration type (LTVP)

### 13. Schools
- **Input Method**: Dropdown List
- **Format**: Selection from predefined list
- **Options**: Dropdown list values can be found at: https://www.mom.gov.sg/passes-and-permits/work-pass-exemption-for-foreign-students
- **Required**: Required
- **Remarks**: 
  - This field is hidden if user did not select "Student Pass (Foreigner)" during account registration
- **Implementation**: 
  - Dropdown component
  - Fetch options from MOM website or maintain local list
  - Conditional visibility based on registration type (Student Pass)

### 14. Student Pass Image
- **Input Method**: Upload
- **Format**: Image file
- **Required**: Required
- **Remarks**: 
  - This field is hidden if user did not select "Student Pass (Foreigner)" during account registration
- **Implementation**: 
  - Image upload component
  - Conditional visibility based on registration type (Student Pass)

### 15. Student ID No.
- **Input Method**: Textbox
- **Format**: Text
- **Required**: Required
- **Remarks**: 
  - This field is hidden if user did not select "Student Pass (Foreigner)" during account registration
- **Implementation**: 
  - Text input field
  - Conditional visibility based on registration type (Student Pass)

### 16. E-Wallet Amount
- **Input Method**: Statement (Display only)
- **Format**: Pre-filled Info
- **Required**: Pre-filled (Display only)
- **Remarks**: For displaying user remaining E-wallet credit amount
- **Implementation**: Display-only field showing current wallet balance

---

## Employee Implementation Notes

### Key Features to Implement:

1. **Conditional Field Visibility**:
   - Fields based on registration type selection:
     - **Singaporean/PR**: Show NRIC Image (Front & Back)
     - **LTVP**: Show PLOC Image and PLOC Expiry Date
     - **Student Pass (Foreigner)**: Show Schools, Student Pass Image, Student ID No., and mask NRIC/FIN
   - Email Address: Hide if already provided during registration

2. **Pre-filled Fields** (from sign-up):
   - Full Name (As per NRIC)
   - Mobile Number
   - These should be displayed but may be editable by admin

3. **Auto-fill Functionality**:
   - Postal Code: Auto-fill street address after 6-digit postal code input
   - Integration with Singapore postal code API/service

4. **File Upload Requirements**:
   - Profile Picture: Live selfie capture capability
   - NRIC Image: Front and Back (two separate uploads)
   - PLOC Image: Single upload
   - Student Pass Image: Single upload
   - Food Hygiene Cert: Conditional requirement based on job listing

5. **Conditional Requirements**:
   - Food Hygiene Cert: Required only if job listing has "Mandatory" flag
   - Integration needed between job listing creation and worker application flow

6. **Data Sources**:
   - Schools dropdown: Reference MOM website for valid school list
   - Postal code to address: Singapore postal code service

7. **Admin Edit Capabilities**:
   - Admin should be able to edit all fields (except pre-filled from sign-up, which may be restricted)
   - Changes should sync back to worker mobile app profile

8. **Validation Requirements**:
   - Email format validation
   - Date format validation (DD/MM/YYYY for Date of Birth)
   - Postal code: Exactly 6 digits
   - NRIC/FIN masking for Student Pass holders

---

# PART 3: JOB POSTING DETAILS

## Overview
When posting a job, the admin panel should capture comprehensive job details including job description, job title, shift timing, and other essential information. The admin should be able to:
- **View** all job postings
- **Create/Post** new jobs with all required details
- **Edit** existing job postings

**Important Context:**
- Frontend for users is built with **Flutter**, so all data structures should be optimized for Flutter consumption
- All job details must be properly structured so users can see every detail in the mobile app
- Job postings should display clearly in both admin panel and user mobile app

---

## Field Specifications

### 1. Job Date
- **Input Method**: Date Picker / Textbox
- **Format**: Date format (DD/MM/YYYY or YYYY-MM-DD)
- **Required**: Required
- **Remarks**: Date when the job is scheduled
- **Implementation**: Date picker component with proper date format validation

### 2. Job Roles
- **Input Method**: Textbox / Dropdown
- **Format**: Text or Selection from predefined roles
- **Required**: Required
- **Remarks**: Job position/role title (e.g., Waiter, Cashier, Kitchen Staff, etc.)
- **Implementation**: Text input or dropdown with common job roles

### 3. Employer
- **Input Method**: Dropdown / Auto-filled
- **Format**: Selection from registered employers
- **Required**: Required
- **Remarks**: Link to employer profile who is posting the job
- **Implementation**: Dropdown populated with active employers from the system

### 4. Outlet
- **Input Method**: Dropdown / Auto-filled
- **Format**: Selection from employer's outlets
- **Required**: Required
- **Remarks**: Specific outlet location where the job is available
- **Implementation**: Dropdown filtered by selected employer, showing their outlets

### 5. Shift Timing
- **Input Method**: Time Picker / Textbox
- **Format**: Time range (e.g., "8am to 1pm", "12pm to 10am", "8pm to 6am")
- **Required**: Required
- **Remarks**: Start and end time of the work shift
- **Implementation**: 
  - Time picker for start time and end time
  - Display format: "HH:mm to HH:mm" or "8am to 1pm"
  - Handle overnight shifts (e.g., "8pm to 6am")

### 6. Break Duration
- **Input Method**: Textbox / Number Input
- **Format**: Decimal number (hours, e.g., 0, 1, 0.75)
- **Required**: Required
- **Remarks**: Duration of break time in hours
- **Implementation**: Number input with decimal support (0, 0.5, 0.75, 1, etc.)

### 7. Total Working Hours
- **Input Method**: Auto-calculated / Textbox
- **Format**: Decimal number (hours, e.g., 5, 9, 9.25)
- **Required**: Required
- **Remarks**: Total working hours (calculated from shift timing minus break duration)
- **Implementation**: 
  - Auto-calculate: (End Time - Start Time) - Break Duration
  - Allow manual override if needed
  - Support decimal hours (e.g., 9.25 hours)

### 8. Current Fulfilment
- **Input Method**: Auto-calculated / Display
- **Format**: Ratio format (e.g., "4/11", "3/15", "14/17")
- **Required**: Auto-calculated
- **Remarks**: 
  - Shows current number of filled positions vs total positions needed
  - Format: "filled/total" (e.g., 4 out of 11 positions filled)
- **Implementation**: 
  - Auto-calculated based on accepted applications
  - Display format: "X/Y" where X = filled positions, Y = total positions needed

### 9. Rate Type
- **Input Method**: Dropdown / Radio Button
- **Format**: Selection from predefined options
- **Options**:
  - Weekend
  - Weekday
  - Public Holiday
- **Required**: Required
- **Remarks**: Determines the pay rate category for the job
- **Implementation**: Dropdown or radio button group with the three rate types

### 10. Pay/Hr
- **Input Method**: Textbox / Number Input
- **Format**: Number (currency, e.g., 14, 15, 16)
- **Required**: Required
- **Remarks**: Hourly pay rate in SGD
- **Implementation**: Number input with currency formatting, minimum value validation

### 11. Total Wages
- **Input Method**: Auto-calculated / Display
- **Format**: Number (currency, e.g., 75, 126, 148)
- **Required**: Auto-calculated
- **Remarks**: 
  - Total wages for the job
  - Calculated: Pay/Hr × Total Working Hours
- **Implementation**: 
  - Auto-calculate: Pay/Hr × Total Working Hours
  - Display with currency formatting (SGD)

### 12. Job Title
- **Input Method**: Textbox
- **Format**: Text
- **Required**: Required
- **Remarks**: Title/heading of the job posting
- **Implementation**: Text input field

### 13. Job Description
- **Input Method**: Textarea
- **Format**: Text (multi-line)
- **Required**: Required
- **Remarks**: Detailed description of the job, responsibilities, requirements
- **Implementation**: Multi-line textarea with rich text support (optional)

### 14. Total Positions Needed
- **Input Method**: Number Input
- **Format**: Integer (e.g., 11, 15, 17)
- **Required**: Required
- **Remarks**: Total number of workers needed for this job
- **Implementation**: Integer input, minimum value 1

### 15. Food Hygiene Cert Required
- **Input Method**: Checkbox / Toggle
- **Format**: Boolean (Yes/No)
- **Required**: Optional
- **Remarks**: 
  - If checked as "Mandatory", workers must upload Food Hygiene Cert to apply
  - This triggers the requirement in worker profile (see Employee Details section)
- **Implementation**: Checkbox or toggle switch with "Mandatory" label

### 16. Job Status
- **Input Method**: Dropdown / Auto-managed
- **Format**: Selection from predefined options
- **Options**:
  - Active
  - Filled
  - Cancelled
  - Expired
- **Required**: Required
- **Remarks**: Current status of the job posting
- **Implementation**: Dropdown with status options, can auto-update based on fulfilment

### 17. Application Deadline
- **Input Method**: Date Picker / Time Picker
- **Format**: Date and Time
- **Required**: Optional
- **Remarks**: Last date/time when applications are accepted
- **Implementation**: Date and time picker component

### 18. Job Requirements
- **Input Method**: Textarea / Multi-select
- **Format**: Text or List of requirements
- **Required**: Optional
- **Remarks**: Additional requirements (skills, experience, certifications, etc.)
- **Implementation**: Textarea or multi-select checklist

### 19. Location Details
- **Input Method**: Textbox / Auto-filled from Outlet
- **Format**: Text
- **Required**: Required
- **Remarks**: Detailed location/address information
- **Implementation**: Can be auto-filled from outlet address, with manual override option

### 20. Contact Information
- **Input Method**: Auto-filled / Textbox
- **Format**: Phone number, Email
- **Required**: Optional
- **Remarks**: Contact details for job inquiries
- **Implementation**: Auto-filled from employer/outlet contact, with override option

---

## Job Posting Implementation Notes

### Key Features to Implement:

1. **Auto-Calculations**:
   - **Total Working Hours**: (End Time - Start Time) - Break Duration
   - **Total Wages**: Pay/Hr × Total Working Hours
   - **Current Fulfilment**: Auto-update based on accepted applications

2. **Time Handling**:
   - Support overnight shifts (e.g., 8pm to 6am = 10 hours)
   - Handle 24-hour format conversion
   - Display in user-friendly format (8am to 1pm)

3. **Rate Type Logic**:
   - Weekend: Typically higher rates
   - Weekday: Standard rates
   - Public Holiday: Premium rates
   - Can be used to suggest default Pay/Hr values

4. **Fulfilment Tracking**:
   - Track number of accepted applications
   - Auto-update Current Fulfilment ratio
   - Update Job Status when filled (e.g., when Current Fulfilment = Total Positions)

5. **Food Hygiene Cert Integration**:
   - When "Mandatory" is selected, workers must have Food Hygiene Cert to apply
   - Link to Employee Details section for conditional requirement
   - Show warning/prompt in worker app if cert is missing

6. **Flutter Frontend Considerations**:
   - Structure data as JSON with clear field names
   - Use consistent date/time formats (ISO 8601 recommended)
   - Ensure all numeric fields are properly typed
   - Include status flags for UI state management
   - Provide clear data models/classes for Flutter consumption

7. **Admin Capabilities**:
   - **View**: List all job postings with key details
   - **Create**: Form to post new jobs with all fields
   - **Edit**: Ability to modify existing job postings
   - **Delete/Cancel**: Ability to cancel or remove job postings

8. **Data Structure for Flutter**:
   ```json
   {
     "jobId": "string",
     "jobDate": "YYYY-MM-DD",
     "jobTitle": "string",
     "jobDescription": "string",
     "jobRoles": "string",
     "employer": {
       "id": "string",
       "name": "string"
     },
     "outlet": {
       "id": "string",
       "name": "string",
       "address": "string"
     },
     "shiftTiming": {
       "startTime": "HH:mm",
       "endTime": "HH:mm",
       "display": "8am to 1pm"
     },
     "breakDuration": 1.0,
     "totalWorkingHours": 5.0,
     "totalPositions": 11,
     "currentFulfilment": {
       "filled": 4,
       "total": 11,
       "display": "4/11"
     },
     "rateType": "Weekend|Weekday|Public Holiday",
     "payPerHour": 15.0,
     "totalWages": 75.0,
     "foodHygieneCertRequired": true,
     "jobStatus": "Active|Filled|Cancelled|Expired",
     "applicationDeadline": "YYYY-MM-DDTHH:mm",
     "requirements": ["string"],
     "locationDetails": "string",
     "contactInfo": {
       "phone": "string",
       "email": "string"
     }
   }
   ```

9. **Validation Requirements**:
   - Job Date: Must be in the future (or allow past dates for historical records)
   - Shift Timing: End time must be after start time (or handle overnight)
   - Total Working Hours: Must be positive
   - Pay/Hr: Must be positive number
   - Total Positions: Must be at least 1
   - Current Fulfilment: Filled positions cannot exceed total positions

10. **Display in Admin Panel**:
    - Table view with columns: Job Date, Job Roles, Employer, Outlet, Shift Timing, Break Duration, Total Working Hours, Current Fulfilment, Rate Type, Pay/Hr, Total Wages
    - Filter and search capabilities
    - Sort by date, status, fulfilment, etc.

11. **Display in Flutter App**:
    - Card/list view with key information
    - Detail view with all job information
    - Apply button (with Food Hygiene Cert check if required)
    - Show fulfilment status clearly

---

## Job Posting Fields Summary Table

| Field Name | Input Method | Format | Required | Auto-Calculated | Remarks |
|------------|--------------|--------|----------|----------------|---------|
| Job Date | Date Picker | Date | ✅ Required | ❌ | Scheduled job date |
| Job Roles | Textbox/Dropdown | Text | ✅ Required | ❌ | Job position/role |
| Employer | Dropdown | Selection | ✅ Required | ❌ | Link to employer |
| Outlet | Dropdown | Selection | ✅ Required | ❌ | Specific outlet location |
| Shift Timing | Time Picker | Time Range | ✅ Required | ❌ | Start and end time |
| Break Duration | Number Input | Decimal (hours) | ✅ Required | ❌ | Break time in hours |
| Total Working Hours | Number/Display | Decimal (hours) | ✅ Required | ✅ | Auto: (End - Start) - Break |
| Current Fulfilment | Display | Ratio (X/Y) | ✅ Required | ✅ | Auto: based on applications |
| Rate Type | Dropdown | Selection | ✅ Required | ❌ | Weekend/Weekday/Public Holiday |
| Pay/Hr | Number Input | Currency | ✅ Required | ❌ | Hourly pay rate |
| Total Wages | Display | Currency | ✅ Required | ✅ | Auto: Pay/Hr × Hours |
| Job Title | Textbox | Text | ✅ Required | ❌ | Job posting title |
| Job Description | Textarea | Text | ✅ Required | ❌ | Detailed description |
| Total Positions Needed | Number Input | Integer | ✅ Required | ❌ | Number of workers needed |
| Food Hygiene Cert Required | Checkbox | Boolean | ⚠️ Optional | ❌ | Mandatory flag |
| Job Status | Dropdown | Selection | ✅ Required | ⚠️ Auto-update | Active/Filled/Cancelled/Expired |
| Application Deadline | Date/Time Picker | DateTime | ⚠️ Optional | ❌ | Last application time |
| Job Requirements | Textarea | Text/List | ⚠️ Optional | ❌ | Additional requirements |
| Location Details | Textbox | Text | ✅ Required | ⚠️ Auto-fill | Can use outlet address |
| Contact Information | Textbox | Phone/Email | ⚠️ Optional | ⚠️ Auto-fill | From employer/outlet |

---

# PART 4: PAYMENT DETAILS FOR EMPLOYEES

## Overview
This section outlines the payment details and tracking system for employees (workers) who are registered in the app. The admin panel should display all payment records in a table format, allowing admins to view, approve, reject, and manage employee payments.

**Important Context:**
- All payment records are generated from completed job shifts
- Most fields are pre-filled from job and attendance data
- Admin/Finance team determines pay rates in the backend
- Payment status can be updated (Pending, Approved, Rejected)
- Rejected payments can be regenerated with revised details
- Backend must track activity logs, timestamps, and user accounts for all payment actions

---

## Field Specifications

### 1. ID
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Unique payment record identifier
- **Implementation**: Auto-generated payment ID, displayed in table

### 2. Name
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Employee/Worker full name
- **Implementation**: Auto-populated from employee profile

### 3. NRIC
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Employee NRIC or FIN number
- **Implementation**: Auto-populated from employee profile

### 4. Employer
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Employer name who provided the job
- **Implementation**: Auto-populated from job posting data

### 5. Outlet Address
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Specific outlet location where work was performed
- **Implementation**: Auto-populated from job posting outlet information

### 6. Job ID
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Reference to the job posting
- **Implementation**: Link to job posting, auto-populated from job data

### 7. Day
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Monday to Sunday)
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Day of the week when work was performed
- **Implementation**: Auto-calculated from shift date, displayed as day name

### 8. Shift Date
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Date format)
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Date when the shift was worked
- **Implementation**: Auto-populated from attendance/job data

### 9. Time In
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Time format)
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Actual clock-in time recorded
- **Implementation**: Auto-populated from attendance tracking system

### 10. Time Out
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Time format)
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Actual clock-out time recorded
- **Implementation**: Auto-populated from attendance tracking system

### 11. Break Time
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Decimal hours, e.g., 0.5, 1, 0.75)
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Total break duration taken during shift
- **Implementation**: Auto-populated from attendance data or job posting break duration

### 12. Total Work Hour
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Decimal hours)
- **Required**: Pre-filled (Not Editable)
- **Remarks**: 
  - Total working hours calculated from Time In, Time Out, and Break Time
  - Formula: (Time Out - Time In) - Break Time
- **Implementation**: Auto-calculated from attendance data

### 13. Rate Type
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Selection from options)
- **Options**:
  - Flat Rate
  - Weekday Rate
  - Weekend Rate
  - Public Holiday Rate
- **Required**: Pre-filled (Not Editable)
- **Remarks**: 
  - Pay rate category determined by admin/finance in backend
  - Pre-fixed during job listing creation
  - Determines which pay rate to apply
- **Implementation**: 
  - Auto-populated from job posting rate type
  - Can be overridden by admin/finance in backend settings

### 14. Pay Rate
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Currency, SGD per hour)
- **Required**: Pre-filled (Not Editable)
- **Remarks**: 
  - Pay rate per hour for the worker
  - Determined by Rate Type and backend configuration
- **Implementation**: 
  - Auto-populated based on Rate Type
  - Can be configured by admin/finance in backend

### 15. Penalty Amount
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Currency, SGD)
- **Required**: Pre-filled (Not Editable)
- **Remarks**: 
  - Penalty incurred by worker (e.g., late arrival, early departure, no-show)
  - Deducted directly from total payment
- **Implementation**: 
  - Auto-calculated based on penalty rules
  - Can be manually adjusted by admin if needed

### 16. Total Amount
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Currency, SGD)
- **Required**: Pre-filled (Not Editable)
- **Remarks**: 
  - Final payment amount after calculations
  - Formula: (Pay Rate × Total Work Hour) - Penalty Amount
- **Implementation**: Auto-calculated from Pay Rate, Total Work Hour, and Penalty Amount

### 17. Status
- **Input Method**: Dropdown List
- **Format**: Selection from predefined options
- **Options**:
  - Pending
  - Approved
  - Rejected
- **Required**: Required (Editable by Admin)
- **Remarks**: 
  - Payment approval status
  - If payment is rejected, admin should be able to generate payment again with revised details
  - Rejection should allow editing of payment details before regeneration
- **Implementation**: 
  - Dropdown component for status selection
  - Status change triggers activity log entry
  - Rejected status enables "Regenerate Payment" functionality

---

## Payment Details Implementation Notes

### Key Features to Implement:

1. **Pre-filled Data Sources**:
   - Employee data: Name, NRIC (from employee profile)
   - Job data: Employer, Outlet Address, Job ID, Rate Type (from job posting)
   - Attendance data: Shift Date, Time In, Time Out, Break Time, Day (from attendance records)
   - Calculated fields: Total Work Hour, Total Amount

2. **Auto-Calculations**:
   - **Day**: Calculate from Shift Date (Monday to Sunday)
   - **Total Work Hour**: (Time Out - Time In) - Break Time
   - **Total Amount**: (Pay Rate × Total Work Hour) - Penalty Amount

3. **Rate Type System**:
   - Backend configuration allows admin/finance to set pay rates for each rate type:
     - Flat Rate: Fixed rate regardless of day
     - Weekday Rate: Standard weekday rate
     - Weekend Rate: Higher weekend rate
     - Public Holiday Rate: Premium public holiday rate
   - Rates are pre-fixed during job listing creation
   - Can be overridden in backend settings by admin/finance

4. **Penalty System**:
   - Penalties are automatically calculated based on:
     - Late arrival (if Time In is after scheduled start)
     - Early departure (if Time Out is before scheduled end)
     - No-show (if attendance not recorded)
     - Other rule violations
   - Penalty Amount is deducted directly from Total Amount
   - Admin can manually adjust penalties if needed

5. **Payment Status Management**:
   - **Pending**: Default status, awaiting approval
   - **Approved**: Payment is approved and can be processed
   - **Rejected**: Payment is rejected, can be regenerated with revised details
   - Status changes should trigger notifications and activity logs

6. **Rejected Payment Regeneration**:
   - When payment is rejected, admin should be able to:
     - View rejection reason/notes
     - Edit payment details (Pay Rate, Penalty Amount, Total Work Hour if needed)
     - Regenerate payment with revised details
     - Maintain history of original and revised payments

7. **Activity Logging & Tracking**:
   - Backend must track:
     - **Activity Log**: All actions performed on payment records
     - **Timestamp**: When each action occurred
     - **Account**: Which admin/finance user performed the action
   - Trackable actions include:
     - Status changes (Pending → Approved, Pending → Rejected)
     - Payment regeneration
     - Manual adjustments to Pay Rate, Penalty Amount, Total Amount
     - View/access records
   - Activity log should include:
     - Action type
     - Previous value (if applicable)
     - New value (if applicable)
     - User account (admin/finance username/ID)
     - Timestamp (date and time)
     - IP address (optional, for security)

8. **Table Display**:
   - Display all payment records in a sortable, filterable table
   - Columns: ID, Name, NRIC, Employer, Outlet Address, Job ID, Day, Shift Date, Time In, Time Out, Break Time, Total Work Hour, Rate Type, Pay Rate, Penalty Amount, Total Amount, Status
   - Filter options:
     - By Status (Pending, Approved, Rejected)
     - By Date Range
     - By Employer
     - By Employee
     - By Rate Type
   - Sort options:
     - By Date (newest/oldest)
     - By Total Amount (highest/lowest)
     - By Status
     - By Employee Name

9. **Data Structure for Payment Record**:
   ```json
   {
     "paymentId": "string",
     "employee": {
       "id": "string",
       "name": "string",
       "nric": "string"
     },
     "job": {
       "id": "string",
       "employer": "string",
       "outletAddress": "string"
     },
     "shift": {
       "date": "YYYY-MM-DD",
       "day": "Monday|Tuesday|...|Sunday",
       "timeIn": "HH:mm",
       "timeOut": "HH:mm",
       "breakTime": 1.0,
       "totalWorkHour": 8.0
     },
     "payment": {
       "rateType": "Flat Rate|Weekday Rate|Weekend Rate|Public Holiday Rate",
       "payRate": 15.0,
       "penaltyAmount": 0.0,
       "totalAmount": 120.0
     },
     "status": "Pending|Approved|Rejected",
     "rejectionReason": "string (if rejected)",
     "activityLog": [
       {
         "action": "Status Changed|Payment Regenerated|Manual Adjustment",
         "previousValue": "string",
         "newValue": "string",
         "userAccount": "string",
         "timestamp": "YYYY-MM-DDTHH:mm:ss",
         "ipAddress": "string (optional)"
       }
     ],
     "createdAt": "YYYY-MM-DDTHH:mm:ss",
     "updatedAt": "YYYY-MM-DDTHH:mm:ss"
   }
   ```

10. **Admin Actions**:
    - **View**: View payment details in table or detail view
    - **Approve**: Change status from Pending to Approved
    - **Reject**: Change status from Pending to Rejected (with reason)
    - **Regenerate**: Create new payment record from rejected payment with revised details
    - **Export**: Export payment records to CSV/Excel
    - **Filter/Search**: Filter and search payment records

11. **Validation Requirements**:
    - Total Work Hour must be positive
    - Pay Rate must be positive
    - Penalty Amount cannot exceed (Pay Rate × Total Work Hour)
    - Total Amount must be non-negative
    - Status changes must be logged

12. **Integration Points**:
    - **Attendance System**: Pull Time In, Time Out, Break Time
    - **Job Posting System**: Pull Rate Type, Pay Rate configuration
    - **Employee System**: Pull Name, NRIC
    - **Employer System**: Pull Employer name, Outlet Address
    - **Payment Processing**: When Approved, trigger payment processing workflow

---

## Payment Details Fields Summary Table

| Field Name | Input Method | Format | Required | Editable | Auto-Calculated | Remarks |
|------------|--------------|--------|----------|----------|----------------|---------|
| ID | Table Format | Pre-filled | ✅ | ❌ | ✅ | Unique payment ID |
| Name | Table Format | Pre-filled | ✅ | ❌ | ✅ | From employee profile |
| NRIC | Table Format | Pre-filled | ✅ | ❌ | ✅ | From employee profile |
| Employer | Table Format | Pre-filled | ✅ | ❌ | ✅ | From job posting |
| Outlet Address | Table Format | Pre-filled | ✅ | ❌ | ✅ | From job posting |
| Job ID | Table Format | Pre-filled | ✅ | ❌ | ✅ | Link to job posting |
| Day | Table Format | Pre-filled | ✅ | ❌ | ✅ | Calculated from date |
| Shift Date | Table Format | Pre-filled | ✅ | ❌ | ✅ | From attendance |
| Time In | Table Format | Pre-filled | ✅ | ❌ | ✅ | From attendance |
| Time Out | Table Format | Pre-filled | ✅ | ❌ | ✅ | From attendance |
| Break Time | Table Format | Pre-filled | ✅ | ❌ | ✅ | From attendance/job |
| Total Work Hour | Table Format | Pre-filled | ✅ | ❌ | ✅ | (Time Out - Time In) - Break |
| Rate Type | Table Format | Pre-filled | ✅ | ❌ | ✅ | From job posting |
| Pay Rate | Table Format | Pre-filled | ✅ | ❌ | ✅ | Based on Rate Type |
| Penalty Amount | Table Format | Pre-filled | ✅ | ❌ | ✅ | Auto-calculated |
| Total Amount | Table Format | Pre-filled | ✅ | ❌ | ✅ | (Pay Rate × Hours) - Penalty |
| Status | Dropdown List | Selection | ✅ | ✅ | ❌ | Pending/Approved/Rejected |

---

## Combined Implementation Roadmap

### Phase 1: Employer Details
1. Update employer registration/edit forms
2. Implement multi-entry support (contacts, outlets)
3. Add file upload restrictions (PDF for Service Contract)
4. Implement validation for all employer fields

### Phase 2: Employee/Worker Details
1. Create worker profile view/edit page in admin panel
2. Implement conditional field visibility logic
3. Integrate postal code auto-fill functionality
4. Add file upload components for all document types
5. Implement conditional requirements (Food Hygiene Cert)
6. Fetch and maintain schools dropdown list

### Phase 3: Job Posting Details
1. Create job posting form with all required fields
2. Implement auto-calculation logic (Total Working Hours, Total Wages, Fulfilment)
3. Add time handling for overnight shifts
4. Implement rate type logic and pay calculations
5. Create job listing table/view in admin panel
6. Add job edit functionality
7. Implement Food Hygiene Cert requirement integration
8. Structure data for Flutter frontend consumption

### Phase 4: Payment Details
1. Create payment records table/view in admin panel
2. Implement auto-calculation logic (Total Work Hour, Total Amount)
3. Integrate with attendance system for Time In/Out data
4. Implement rate type system and pay rate configuration
5. Add penalty calculation system
6. Implement payment status management (Pending, Approved, Rejected)
7. Add payment regeneration functionality for rejected payments
8. Implement comprehensive activity logging system
9. Add filtering, sorting, and search capabilities
10. Create payment detail view with activity log display
11. Add export functionality for payment records

### Phase 5: Withdrawal/Cash In/Out Details
1. Create withdrawal/transaction records table/view in admin panel
2. Implement Cash In/Cash Out transaction types
3. Add Cash in/Out Details dropdown with Job ID, Referral Fees, Bonus, Penalty options
4. Implement amount display with + and - signs and color coding (green/red)
5. Integrate with E-Wallet system for balance updates
6. Add Cash Out Method tracking (PayNow, Bank Account)
7. Implement Job ID linking for job-related transactions
8. Create transaction creation functionality (manual and automatic)
9. Add withdrawal processing workflow
10. Implement transaction filtering and sorting
11. Add export functionality for transaction records
12. Integrate with payment system for auto Cash In creation

### Phase 6: Integration & Testing
1. Test conditional field visibility for all registration types
2. Test file upload restrictions and validations
3. Test postal code auto-fill functionality
4. Test admin edit capabilities and mobile app sync
5. Test conditional requirements (Food Hygiene Cert with job listings)
6. Test job posting creation, editing, and viewing
7. Test auto-calculations for job postings
8. Test Flutter app integration with job posting data
9. Test fulfilment tracking and status updates
10. Test payment record generation from attendance data
11. Test payment status changes and activity logging
12. Test payment regeneration for rejected payments
13. Test rate type system and pay rate calculations
14. Test penalty calculations and deductions
15. Test integration between job postings, attendance, and payments
16. Test Cash In/Cash Out transaction creation and processing
17. Test E-Wallet balance updates with transactions
18. Test withdrawal processing via PayNow and Bank Account
19. Test Job ID linking in transactions
20. Test color coding and display formatting for amounts

---

# PART 5: WITHDRAWAL / CASH IN/OUT DETAILS

## Overview
This section outlines the withdrawal and cash transaction details for employees. Employees can withdraw their earnings or receive cash in/out transactions through various methods. The system tracks all cash in (credits) and cash out (debits) transactions, including job payments, referral fees, bonuses, and penalties.

**Important Context:**
- Cash In: Money credited to employee (e.g., job payment, referral fees, bonus)
- Cash Out: Money debited from employee (e.g., withdrawal, penalty)
- Transactions are differentiated by + and - signs with color coding (green for cash in, red for cash out)
- Employees can withdraw through PayNow or Bank Account transfer
- All transactions are linked to specific reasons/details (Job ID, Referral Fees, Bonus Payout, Penalty)

---

## Field Specifications

### 1. ID
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Unique transaction identifier
- **Implementation**: Auto-generated transaction ID, displayed in table

### 2. Name
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Employee/Worker full name
- **Implementation**: Auto-populated from employee profile

### 3. NRIC
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Employee NRIC or FIN number
- **Implementation**: Auto-populated from employee profile

### 4. Cash In / Cash Out
- **Input Method**: Dropdown
- **Format**: Selection from options
- **Options**:
  - Cash In
  - Cash Out
- **Required**: Required (Editable by Admin)
- **Remarks**: 
  - Transaction type indicator
  - Cash In: Money added to employee account
  - Cash Out: Money withdrawn from employee account
- **Implementation**: Dropdown component for transaction type selection

### 5. Cash In/Out Date
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Date format)
- **Required**: Pre-filled (Not Editable)
- **Remarks**: Date when the transaction occurred
- **Implementation**: Auto-populated from transaction timestamp

### 6. Cash in/Out Details
- **Input Method**: Dropdown
- **Format**: Selection from predefined options
- **Options**:
  - Job ID (*With Job ID Number) - e.g., "Job ID: JOB-12345"
  - Referral Fees
  - Bonus Payout
  - Penalty
- **Required**: Required (Editable by Admin)
- **Remarks**: 
  - Reason/purpose of the transaction
  - If Job ID is selected, must include the specific Job ID number
  - Based on job ID or other reasons like referral fee, bonus, penalty incurred to worker
- **Implementation**: 
  - Dropdown component with the specified options
  - If "Job ID" is selected, show additional field/format to include Job ID number
  - Format: "Job ID: [JOB-XXXXX]" or similar

### 7. Cash In/Out Amount
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Currency, SGD with + or - sign)
- **Required**: Pre-filled (Not Editable)
- **Remarks**: 
  - Transaction amount
  - Cash in or cash out amount can be differentiated by + and - sign
  - Green color for cash in (positive amounts)
  - Red color for cash out (negative amounts)
- **Implementation**: 
  - Display with + sign for Cash In (green color)
  - Display with - sign for Cash Out (red color)
  - Format: "+$150.00" (green) or "-$50.00" (red)
  - Color coding: Green (#22c55e or similar) for positive, Red (#ef4444 or similar) for negative

### 8. Cash Out Method
- **Input Method**: Table Format (Display only)
- **Format**: Pre-filled (Selection from options)
- **Options**:
  - PayNow
  - Bank Account
- **Required**: Pre-filled (Not Editable)
- **Remarks**: 
  - Payment method used for cash out transactions
  - Only applicable for Cash Out transactions
  - For Cash In transactions, this field may be empty or show "N/A"
- **Implementation**: 
  - Auto-populated based on employee's withdrawal preference
  - Display payment method for Cash Out transactions
  - Can be empty or "N/A" for Cash In transactions

---

## Withdrawal/Cash In/Out Implementation Notes

### Key Features to Implement:

1. **Transaction Types**:
   - **Cash In**: Credits to employee account
     - Job payments (linked to Job ID)
     - Referral fees
     - Bonus payouts
     - Refunds or adjustments
   - **Cash Out**: Debits from employee account
     - Withdrawals (via PayNow or Bank Account)
     - Penalties
     - Deductions

2. **Cash In/Out Details Options**:
   - **Job ID**: Must include specific Job ID number (e.g., "Job ID: JOB-12345")
     - Link to payment record
     - Auto-populated from approved payments
   - **Referral Fees**: Bonus for referring new employees
   - **Bonus Payout**: Additional bonuses or incentives
   - **Penalty**: Deductions for violations or issues

3. **Amount Display**:
   - **Cash In**: Positive amount with + sign, displayed in green
     - Format: "+$150.00" (green color)
   - **Cash Out**: Negative amount with - sign, displayed in red
     - Format: "-$50.00" (red color)
   - Use consistent color scheme throughout the application

4. **Cash Out Methods**:
   - **PayNow**: Singapore's instant payment system
     - Requires PayNow registered number or QR code
   - **Bank Account**: Bank transfer
     - Requires bank account details (account number, bank name)
   - Employee should be able to set preferred withdrawal method in their profile

5. **Transaction Flow**:
   - **Cash In Flow**:
     1. Payment approved → Auto-create Cash In transaction
     2. Referral fee earned → Admin creates Cash In transaction
     3. Bonus awarded → Admin creates Cash In transaction
   - **Cash Out Flow**:
     1. Employee requests withdrawal → Create Cash Out transaction (Pending)
     2. Admin processes withdrawal → Update status to Processed
     3. Penalty applied → Auto-create Cash Out transaction

6. **E-Wallet Integration**:
   - Cash In transactions increase E-Wallet balance
   - Cash Out transactions decrease E-Wallet balance
   - E-Wallet Amount (from Employee Details) = Sum of all Cash In - Sum of all Cash Out
   - Real-time balance update when transactions are created

7. **Job ID Integration**:
   - When Cash In/Out Details = "Job ID", must include Job ID number
   - Link transaction to specific job posting
   - Link transaction to payment record
   - Display format: "Job ID: JOB-12345" or similar

8. **Table Display**:
   - Display all transactions in a sortable, filterable table
   - Columns: ID, Name, NRIC, Cash In/Cash Out, Cash In/Out Date, Cash in/Out Details, Cash In/Out Amount, Cash Out Method
   - Color coding for amounts (green for +, red for -)
   - Filter options:
     - By Transaction Type (Cash In, Cash Out)
     - By Date Range
     - By Employee
     - By Details (Job ID, Referral Fees, Bonus, Penalty)
     - By Cash Out Method (PayNow, Bank Account)
   - Sort options:
     - By Date (newest/oldest)
     - By Amount (highest/lowest)
     - By Employee Name

9. **Data Structure for Transaction Record**:
   ```json
   {
     "transactionId": "string",
     "employee": {
       "id": "string",
       "name": "string",
       "nric": "string"
     },
     "transactionType": "Cash In|Cash Out",
     "date": "YYYY-MM-DD",
     "details": {
       "type": "Job ID|Referral Fees|Bonus Payout|Penalty",
       "jobId": "string (if type is Job ID)",
       "description": "string"
     },
     "amount": {
       "value": 150.00,
       "display": "+$150.00",
       "color": "green"
     },
     "cashOutMethod": "PayNow|Bank Account|null",
     "status": "Pending|Processed|Failed",
     "eWalletBalance": {
       "before": 500.00,
       "after": 650.00
     },
     "createdAt": "YYYY-MM-DDTHH:mm:ss",
     "processedAt": "YYYY-MM-DDTHH:mm:ss (if processed)"
   }
   ```

10. **Admin Actions**:
    - **View**: View all transactions in table or detail view
    - **Create**: Manually create Cash In/Out transactions (for bonuses, penalties, adjustments)
    - **Filter/Search**: Filter and search transactions
    - **Export**: Export transaction records to CSV/Excel
    - **Process Withdrawal**: Process pending Cash Out transactions
    - **Link to Payment**: Link Cash In transaction to payment record

11. **Validation Requirements**:
    - Cash In/Out Amount must be positive (absolute value)
    - Cash Out Method is required for Cash Out transactions
    - Job ID must be provided if Details = "Job ID"
    - Cash Out amount cannot exceed current E-Wallet balance
    - Transaction date cannot be in the future

12. **Integration Points**:
    - **Payment System**: Auto-create Cash In when payment is approved
    - **E-Wallet System**: Update balance in real-time
    - **Employee System**: Pull Name, NRIC, withdrawal preferences
    - **Job Posting System**: Link to Job ID for job-related transactions
    - **Payment Processing**: Process Cash Out withdrawals via PayNow or Bank Account

13. **User Experience (Flutter App)**:
    - Display transaction history with color-coded amounts
    - Show E-Wallet balance prominently
    - Allow withdrawal requests (Cash Out)
    - Show transaction details with Job ID links
    - Display pending/processed status for withdrawals

14. **Activity Logging**:
    - Track all transaction creation
    - Track withdrawal processing
    - Track manual adjustments by admin
    - Include timestamp, user account, and action details

---

## Withdrawal/Cash In/Out Fields Summary Table

| Field Name | Input Method | Format | Required | Editable | Auto-Calculated | Remarks |
|------------|--------------|--------|----------|----------|----------------|---------|
| ID | Table Format | Pre-filled | ✅ | ❌ | ✅ | Unique transaction ID |
| Name | Table Format | Pre-filled | ✅ | ❌ | ✅ | From employee profile |
| NRIC | Table Format | Pre-filled | ✅ | ❌ | ✅ | From employee profile |
| Cash In / Cash Out | Dropdown | Selection | ✅ | ✅ | ❌ | Cash In or Cash Out |
| Cash In/Out Date | Table Format | Pre-filled | ✅ | ❌ | ✅ | Transaction date |
| Cash in/Out Details | Dropdown | Selection | ✅ | ✅ | ❌ | Job ID/Referral/Bonus/Penalty |
| Cash In/Out Amount | Table Format | Pre-filled | ✅ | ❌ | ✅ | With + (green) or - (red) sign |
| Cash Out Method | Table Format | Pre-filled | ✅ | ❌ | ✅ | PayNow or Bank Account |

---

## Document Information
- **Created**: Based on manager meeting discussion
- **Purpose**: Complete summary of employer, employee, job posting, payment, and withdrawal details requirements for admin backend
- **Status**: Ready for implementation
- **Last Updated**: Includes employer, worker, job posting, payment, and withdrawal/cash in-out specifications
- **Frontend**: Flutter mobile app for end users
